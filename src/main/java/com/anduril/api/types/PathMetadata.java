/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.anduril.api.types;

import com.anduril.api.core.ObjectMappers;
import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import java.time.OffsetDateTime;
import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = PathMetadata.Builder.class)
public final class PathMetadata {
    private final ContentIdentifier contentIdentifier;

    private final long sizeBytes;

    private final OffsetDateTime lastUpdatedAt;

    private final Optional<OffsetDateTime> expiryTime;

    private final String nodeId;

    private final Map<String, Object> additionalProperties;

    private PathMetadata(
            ContentIdentifier contentIdentifier,
            long sizeBytes,
            OffsetDateTime lastUpdatedAt,
            Optional<OffsetDateTime> expiryTime,
            String nodeId,
            Map<String, Object> additionalProperties) {
        this.contentIdentifier = contentIdentifier;
        this.sizeBytes = sizeBytes;
        this.lastUpdatedAt = lastUpdatedAt;
        this.expiryTime = expiryTime;
        this.nodeId = nodeId;
        this.additionalProperties = additionalProperties;
    }

    @JsonProperty("content_identifier")
    public ContentIdentifier getContentIdentifier() {
        return contentIdentifier;
    }

    @JsonProperty("size_bytes")
    public long getSizeBytes() {
        return sizeBytes;
    }

    @JsonProperty("last_updated_at")
    public OffsetDateTime getLastUpdatedAt() {
        return lastUpdatedAt;
    }

    @JsonProperty("expiry_time")
    public Optional<OffsetDateTime> getExpiryTime() {
        return expiryTime;
    }

    /**
     * @return The unique environment node ID in a Lattice Mesh deployment.
     */
    @JsonProperty("node_id")
    public String getNodeId() {
        return nodeId;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof PathMetadata && equalTo((PathMetadata) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(PathMetadata other) {
        return contentIdentifier.equals(other.contentIdentifier)
                && sizeBytes == other.sizeBytes
                && lastUpdatedAt.equals(other.lastUpdatedAt)
                && expiryTime.equals(other.expiryTime)
                && nodeId.equals(other.nodeId);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(this.contentIdentifier, this.sizeBytes, this.lastUpdatedAt, this.expiryTime, this.nodeId);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static ContentIdentifierStage builder() {
        return new Builder();
    }

    public interface ContentIdentifierStage {
        SizeBytesStage contentIdentifier(@NotNull ContentIdentifier contentIdentifier);

        Builder from(PathMetadata other);
    }

    public interface SizeBytesStage {
        LastUpdatedAtStage sizeBytes(long sizeBytes);
    }

    public interface LastUpdatedAtStage {
        NodeIdStage lastUpdatedAt(@NotNull OffsetDateTime lastUpdatedAt);
    }

    public interface NodeIdStage {
        /**
         * <p>The unique environment node ID in a Lattice Mesh deployment.</p>
         */
        _FinalStage nodeId(@NotNull String nodeId);
    }

    public interface _FinalStage {
        PathMetadata build();

        _FinalStage expiryTime(Optional<OffsetDateTime> expiryTime);

        _FinalStage expiryTime(OffsetDateTime expiryTime);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder
            implements ContentIdentifierStage, SizeBytesStage, LastUpdatedAtStage, NodeIdStage, _FinalStage {
        private ContentIdentifier contentIdentifier;

        private long sizeBytes;

        private OffsetDateTime lastUpdatedAt;

        private String nodeId;

        private Optional<OffsetDateTime> expiryTime = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(PathMetadata other) {
            contentIdentifier(other.getContentIdentifier());
            sizeBytes(other.getSizeBytes());
            lastUpdatedAt(other.getLastUpdatedAt());
            expiryTime(other.getExpiryTime());
            nodeId(other.getNodeId());
            return this;
        }

        @java.lang.Override
        @JsonSetter("content_identifier")
        public SizeBytesStage contentIdentifier(@NotNull ContentIdentifier contentIdentifier) {
            this.contentIdentifier = Objects.requireNonNull(contentIdentifier, "contentIdentifier must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("size_bytes")
        public LastUpdatedAtStage sizeBytes(long sizeBytes) {
            this.sizeBytes = sizeBytes;
            return this;
        }

        @java.lang.Override
        @JsonSetter("last_updated_at")
        public NodeIdStage lastUpdatedAt(@NotNull OffsetDateTime lastUpdatedAt) {
            this.lastUpdatedAt = Objects.requireNonNull(lastUpdatedAt, "lastUpdatedAt must not be null");
            return this;
        }

        /**
         * <p>The unique environment node ID in a Lattice Mesh deployment.</p>
         * <p>The unique environment node ID in a Lattice Mesh deployment.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("node_id")
        public _FinalStage nodeId(@NotNull String nodeId) {
            this.nodeId = Objects.requireNonNull(nodeId, "nodeId must not be null");
            return this;
        }

        @java.lang.Override
        public _FinalStage expiryTime(OffsetDateTime expiryTime) {
            this.expiryTime = Optional.ofNullable(expiryTime);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "expiry_time", nulls = Nulls.SKIP)
        public _FinalStage expiryTime(Optional<OffsetDateTime> expiryTime) {
            this.expiryTime = expiryTime;
            return this;
        }

        @java.lang.Override
        public PathMetadata build() {
            return new PathMetadata(
                    contentIdentifier, sizeBytes, lastUpdatedAt, expiryTime, nodeId, additionalProperties);
        }
    }
}
