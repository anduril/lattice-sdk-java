/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.anduril.api.resources.tasking;

import com.anduril.api.core.ClientOptions;
import com.anduril.api.core.RequestOptions;
import com.anduril.api.resources.tasking.requests.AgentListener;
import com.anduril.api.resources.tasking.requests.TaskCreation;
import com.anduril.api.resources.tasking.requests.TaskQuery;
import com.anduril.api.resources.tasking.requests.TaskStatusUpdate;
import com.anduril.api.types.AgentRequest;
import com.anduril.api.types.Task;
import com.anduril.api.types.TaskQueryResults;
import java.util.concurrent.CompletableFuture;

public class AsyncTaskingClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawTaskingClient rawClient;

    public AsyncTaskingClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawTaskingClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawTaskingClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Submit a request to create a task and schedule it for delivery. Tasks, once delivered, will
     * be asynchronously updated by their destined agent.
     */
    public CompletableFuture<Task> createTask() {
        return this.rawClient.createTask().thenApply(response -> response.body());
    }

    /**
     * Submit a request to create a task and schedule it for delivery. Tasks, once delivered, will
     * be asynchronously updated by their destined agent.
     */
    public CompletableFuture<Task> createTask(TaskCreation request) {
        return this.rawClient.createTask(request).thenApply(response -> response.body());
    }

    /**
     * Submit a request to create a task and schedule it for delivery. Tasks, once delivered, will
     * be asynchronously updated by their destined agent.
     */
    public CompletableFuture<Task> createTask(TaskCreation request, RequestOptions requestOptions) {
        return this.rawClient.createTask(request, requestOptions).thenApply(response -> response.body());
    }

    public CompletableFuture<Task> getTask(String taskId) {
        return this.rawClient.getTask(taskId).thenApply(response -> response.body());
    }

    public CompletableFuture<Task> getTask(String taskId, RequestOptions requestOptions) {
        return this.rawClient.getTask(taskId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Update the status of a task.
     */
    public CompletableFuture<Task> updateTaskStatus(String taskId) {
        return this.rawClient.updateTaskStatus(taskId).thenApply(response -> response.body());
    }

    /**
     * Update the status of a task.
     */
    public CompletableFuture<Task> updateTaskStatus(String taskId, TaskStatusUpdate request) {
        return this.rawClient.updateTaskStatus(taskId, request).thenApply(response -> response.body());
    }

    /**
     * Update the status of a task.
     */
    public CompletableFuture<Task> updateTaskStatus(
            String taskId, TaskStatusUpdate request, RequestOptions requestOptions) {
        return this.rawClient.updateTaskStatus(taskId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Query for tasks by a specified search criteria.
     */
    public CompletableFuture<TaskQueryResults> queryTasks() {
        return this.rawClient.queryTasks().thenApply(response -> response.body());
    }

    /**
     * Query for tasks by a specified search criteria.
     */
    public CompletableFuture<TaskQueryResults> queryTasks(TaskQuery request) {
        return this.rawClient.queryTasks(request).thenApply(response -> response.body());
    }

    /**
     * Query for tasks by a specified search criteria.
     */
    public CompletableFuture<TaskQueryResults> queryTasks(TaskQuery request, RequestOptions requestOptions) {
        return this.rawClient.queryTasks(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * This is a long polling API that will block until a new task is ready for delivery. If no new task is
     * available then the server will hold on to your request for up to 5 minutes, after that 5 minute timeout
     * period you will be expected to reinitiate a new request.
     */
    public CompletableFuture<AgentRequest> listenAsAgent() {
        return this.rawClient.listenAsAgent().thenApply(response -> response.body());
    }

    /**
     * This is a long polling API that will block until a new task is ready for delivery. If no new task is
     * available then the server will hold on to your request for up to 5 minutes, after that 5 minute timeout
     * period you will be expected to reinitiate a new request.
     */
    public CompletableFuture<AgentRequest> listenAsAgent(AgentListener request) {
        return this.rawClient.listenAsAgent(request).thenApply(response -> response.body());
    }

    /**
     * This is a long polling API that will block until a new task is ready for delivery. If no new task is
     * available then the server will hold on to your request for up to 5 minutes, after that 5 minute timeout
     * period you will be expected to reinitiate a new request.
     */
    public CompletableFuture<AgentRequest> listenAsAgent(AgentListener request, RequestOptions requestOptions) {
        return this.rawClient.listenAsAgent(request, requestOptions).thenApply(response -> response.body());
    }
}
